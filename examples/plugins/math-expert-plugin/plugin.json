{
  "name": "math-expert-plugin",
  "version": "1.0.0",
  "description": "Example plugin with math expert agent and contextual tools",
  "author": "Claude Code Team",
  "runtime": "python3",
  "tools": [
    {
      "name": "add",
      "description": "Add two numbers together",
      "command": "python3",
      "args": ["tools/add.py"],
      "schema": {
        "type": "object",
        "properties": {
          "a": {
            "type": "number",
            "description": "First number"
          },
          "b": {
            "type": "number",
            "description": "Second number"
          }
        },
        "required": ["a", "b"]
      },
      "visible_to": ["math-expert"],
      "subtext": "{a} + {b}"
    },
    {
      "name": "subtract",
      "description": "Subtract one number from another",
      "command": "python3",
      "args": ["tools/subtract.py"],
      "schema": {
        "type": "object",
        "properties": {
          "a": {
            "type": "number",
            "description": "Number to subtract from"
          },
          "b": {
            "type": "number",
            "description": "Number to subtract"
          }
        },
        "required": ["a", "b"]
      },
      "visible_to": ["math-expert"],
      "subtext": "{a} - {b}"
    },
    {
      "name": "multiply",
      "description": "Multiply two numbers together",
      "command": "python3",
      "args": ["tools/multiply.py"],
      "schema": {
        "type": "object",
        "properties": {
          "a": {
            "type": "number",
            "description": "First number"
          },
          "b": {
            "type": "number",
            "description": "Second number"
          }
        },
        "required": ["a", "b"]
      },
      "visible_to": ["math-expert"],
      "subtext": "{a} ร {b}"
    },
    {
      "name": "divide",
      "description": "Divide one number by another",
      "command": "python3",
      "args": ["tools/divide.py"],
      "schema": {
        "type": "object",
        "properties": {
          "a": {
            "type": "number",
            "description": "Dividend (number to be divided)"
          },
          "b": {
            "type": "number",
            "description": "Divisor (number to divide by)"
          }
        },
        "required": ["a", "b"]
      },
      "visible_to": ["math-expert"],
      "subtext": "{a} รท {b}"
    },
    {
      "name": "calculate",
      "description": "Evaluate a mathematical expression. Supports arithmetic operators (+, -, *, /, **, //, %), mathematical functions (sqrt, sin, cos, tan, log, exp, abs, ceil, floor), and constants (pi, e). Use this for complex expressions that require multiple operations.",
      "command": "python3",
      "args": ["tools/calculate.py"],
      "schema": {
        "type": "object",
        "properties": {
          "expression": {
            "type": "string",
            "description": "Mathematical expression to evaluate (e.g., '2 * (3 + 4)', 'sqrt(16) + 3', 'sin(pi/2)')"
          }
        },
        "required": ["expression"]
      },
      "visible_to": ["math-expert"],
      "subtext": "{expression}"
    },
    {
      "name": "solve-equation",
      "description": "Solve algebraic equations symbolically using SymPy. Supports linear equations (2*x + 3 = 7), quadratic equations (x**2 - 5*x + 6 = 0), rational equations (1/x + 2 = 3), and more. Returns all solutions including complex numbers when applicable.",
      "command": "python3",
      "args": ["tools/solve-equation.py"],
      "schema": {
        "type": "object",
        "properties": {
          "equation": {
            "type": "string",
            "description": "Algebraic equation to solve (e.g., '2*x + 3 = 7', 'x**2 - 5*x + 6 = 0', 'y**2 = 16')"
          },
          "variable": {
            "type": "string",
            "description": "Variable to solve for (default: x)"
          }
        },
        "required": ["equation"]
      },
      "visible_to": ["math-expert"],
      "subtext": "{equation}"
    },
    {
      "name": "cannot-calculate",
      "description": "Call this when you cannot perform the requested calculation with your available arithmetic tools (add, subtract, multiply, divide)",
      "command": "python3",
      "args": ["tools/cannot-calculate.py"],
      "schema": {
        "type": "object",
        "properties": {
          "reason": {
            "type": "string",
            "description": "Explanation of why the calculation cannot be performed"
          }
        }
      },
      "visible_to": ["math-expert"],
      "subtext": "{reason}"
    }
  ],
  "agents": [
    {
      "name": "math-expert",
      "description": "Expert mathematician specializing in arithmetic calculations",
      "system_prompt_file": "agents/math-expert.md",
      "tools": ["add", "subtract", "multiply", "divide", "calculate", "solve-equation", "cannot-calculate"]
    }
  ]
}
